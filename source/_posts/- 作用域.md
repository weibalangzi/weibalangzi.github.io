---
title: ES6--块级作用域
tags:
- es6
- 作用域
---
在es6之前，js只有函数作用域和全局作用域；
### 块级作用域的概念
任何一对花括号{}中的语句都属于一个块，在这个块中，使用let和const生命的变量和常量对外都是不可见的，这就是块级作用域；

而使用var声明的变量对外依旧是可见的，可以说let和const创建了块级作用域;

<!--more-->

另外，**记住const如果声明的是一个对象集合，那么const存储的是该对象的引用地址**，这个地址是不能改变的，但是地址所指向的对象的属性则是可变的；
### 语句块和对象直接量的区别
不要把**对象直接量**看做是块级作用域；
```javaScript
var obj = {
    name: "hehe",
    age: "18",
    address: "moon"
}
```
上面的代码使用大括号创建了一个对象直接量，但这并不能算是一个语句块；

如果换一种写法：
```javaScript
{
    name: "hehe",
    age: "18",
    address: "moon"
}
```
以上代码会报错，因为如果代码最左边为大括号，就会被解读为语句，而不是对象直接量，所以以上代码会被认为是标签语句，而如果在外层再套一个小括号，就不会报错了，为啥呢？
```javaScript
({
    name: "hehe",
    age: "18",
    address: "moon"
})
```
### 函数声明注意事项
在es5规范的严格模式下，函数us恒明只能存在于全局作用域和函数作用域，在类似if语句这样的块中声明会报错；
```javaScript
"use strict";
if(true){
    function func(){}
}
```
但是，在es6中就不会，因为会解读为函数在块级作用域内声明，但这时候，if后面大括号不能省略；
### 全局属性
在全局作用使用var声明的变量，也是全局属性；可是使用let声明的变量却不是这样；









